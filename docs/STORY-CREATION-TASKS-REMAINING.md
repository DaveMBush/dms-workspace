# Story Creation Tasks Remaining

## Summary

The epic structure (AG-AX) has been created, but **only 2 detailed stories exist**. Each epic needs its stories fully detailed following the established template.

## Completed

- ✅ Created 18 epics (AG through AX)
- ✅ Renamed old AG epic and stories to AY
- ✅ Created AG.1 (Risk group validation) - COMPLETE
- ✅ Created AH.1 (Wire account list) - COMPLETE
- ✅ Added validation commands section to AG.1 and AH.1

## Stories That Need to Be Created

### Epic AG (3 stories total, 2 remaining)

- ✅ AG.1 - Integrate risk group validation (DONE)
- ❌ AG.2 - Add unit tests for risk group initialization
- ❌ AG.3 - Add e2e tests verifying risk groups load

### Epic AH (6 stories total, 5 remaining)

- ✅ AH.1 - Wire account list to backend (DONE)
- ❌ AH.2 - Implement add account functionality
- ❌ AH.3 - Implement edit account name functionality
- ❌ AH.4 - Implement delete account functionality
- ❌ AH.5 - Add unit tests for account operations
- ❌ AH.6 - Add e2e tests for account CRUD

### Epic AI (5 stories)

- ❌ AI.1 - Create screener service in RMS-MATERIAL
- ❌ AI.2 - Wire refresh button to service
- ❌ AI.3 - Add loading and error handling
- ❌ AI.4 - Add unit tests for screener service
- ❌ AI.5 - Add e2e tests for screener refresh

### Epic AJ (5 stories)

- ❌ AJ.1 - Wire screener table to SmartNgRX
- ❌ AJ.2 - Implement checkbox editing
- ❌ AJ.3 - Wire up risk group filter
- ❌ AJ.4 - Add unit tests
- ❌ AJ.5 - Add e2e tests

### Epic AK (4 stories)

- ❌ AK.1 - Wire update universe button to UniverseSyncService
- ❌ AK.2 - Add success/error notifications
- ❌ AK.3 - Add unit tests
- ❌ AK.4 - Add e2e tests

### Epic AL (4 stories)

- ❌ AL.1 - Create UpdateUniverseFieldsService
- ❌ AL.2 - Wire button with loading states
- ❌ AL.3 - Add unit tests
- ❌ AL.4 - Add e2e tests

### Epic AM (5 stories)

- ❌ AM.1 - Wire add symbol dialog
- ❌ AM.2 - Implement symbol search/autocomplete
- ❌ AM.3 - Add validation and error handling
- ❌ AM.4 - Add unit tests
- ❌ AM.5 - Add e2e tests

### Epic AN (7 stories)

- ❌ AN.1 - Wire universe table to SmartNgRX
- ❌ AN.2 - Implement editable cells for distribution
- ❌ AN.3 - Implement date editing for ex_date
- ❌ AN.4 - Wire up symbol and risk group filters
- ❌ AN.5 - Wire up expired filter
- ❌ AN.6 - Add unit tests
- ❌ AN.7 - Add e2e tests

### Epic AO (8 stories)

- ❌ AO.1 - Design Fidelity CSV parser
- ❌ AO.2 - Create import service and endpoint
- ❌ AO.3 - Build import UI dialog
- ❌ AO.4 - Implement file upload
- ❌ AO.5 - Add validation and error reporting
- ❌ AO.6 - Add unit tests for parser
- ❌ AO.7 - Add unit tests for service
- ❌ AO.8 - Add e2e tests

### Epic AP (5 stories)

- ❌ AP.1 - Wire summary component
- ❌ AP.2 - Implement pie chart display
- ❌ AP.3 - Add month/year selectors
- ❌ AP.4 - Add unit tests
- ❌ AP.5 - Add e2e tests

### Epic AQ (5 stories)

- ❌ AQ.1 - Wire account summary with filter
- ❌ AQ.2 - Implement account-specific pie chart
- ❌ AQ.3 - Add month/year selectors
- ❌ AQ.4 - Add unit tests
- ❌ AQ.5 - Add e2e tests

### Epic AR (6 stories)

- ❌ AR.1 - Wire open positions table
- ❌ AR.2 - Implement editable cells
- ❌ AR.3 - Wire "Add New Position" button
- ❌ AR.4 - Implement auto-close logic
- ❌ AR.5 - Add unit tests
- ❌ AR.6 - Add e2e tests

### Epic AS (5 stories)

- ❌ AS.1 - Wire sold positions table
- ❌ AS.2 - Display capital gains calculations
- ❌ AS.3 - Add filtering by date range
- ❌ AS.4 - Add unit tests
- ❌ AS.5 - Add e2e tests

### Epic AT (6 stories)

- ❌ AT.1 - Wire dividends table
- ❌ AT.2 - Wire add dividend dialog
- ❌ AT.3 - Implement edit functionality
- ❌ AT.4 - Implement delete functionality
- ❌ AT.5 - Add unit tests
- ❌ AT.6 - Add e2e tests

### Epic AU (7 stories)

- ❌ AU.1 - Implement account selection signal
- ❌ AU.2 - Wire summary screen
- ❌ AU.3 - Wire open positions
- ❌ AU.4 - Wire sold positions
- ❌ AU.5 - Wire dividends
- ❌ AU.6 - Add unit tests
- ❌ AU.7 - Add e2e tests

### Epic AV (7 stories)

- ❌ AV.1 - Implement state persistence service
- ❌ AV.2 - Persist global tab selection
- ❌ AV.3 - Persist account selection
- ❌ AV.4 - Persist account tab selection
- ❌ AV.5 - Restore state on app load
- ❌ AV.6 - Add unit tests
- ❌ AV.7 - Add e2e tests

### Epic AW (6 stories)

- ❌ AW.1 - Add sorting to universe endpoint
- ❌ AW.2 - Add sorting to trades endpoints
- ❌ AW.3 - Update frontend to send sort params
- ❌ AW.4 - Remove client-side sorting
- ❌ AW.5 - Add unit tests
- ❌ AW.6 - Add e2e tests

### Epic AX (10 stories)

- ❌ AX.1 - Virtual scroll for universe
- ❌ AX.2 - Virtual scroll for screener
- ❌ AX.3 - Virtual scroll for open positions
- ❌ AX.4 - Virtual scroll for sold positions
- ❌ AX.5 - Virtual scroll for dividends
- ❌ AX.6 - Add server-side pagination endpoints
- ❌ AX.7 - Wire filtering with virtual scroll
- ❌ AX.8 - Wire sorting with virtual scroll
- ❌ AX.9 - Add unit tests
- ❌ AX.10 - Add e2e tests

## Total Stories to Create

- **Total stories across all epics**: ~100 stories
- **Stories completed**: 2
- **Stories remaining**: ~98

## Story Template Requirements

Each story MUST include:

### 1. Story Section

```markdown
## Story

**As a** [role]
**I want** [action]
**So that** [benefit]
```

### 2. Context Section

```markdown
## Context

**Current System:**

- [Description of existing RMS app]

**Migration Target:**

- [What we're implementing in RMS-MATERIAL]
```

### 3. Acceptance Criteria

```markdown
## Acceptance Criteria

### Functional Requirements

- [ ] Requirement 1
- [ ] Requirement 2

### Technical Requirements

- [ ] Requirement 1
- [ ] Requirement 2
```

### 4. Test-Driven Development Approach

```markdown
## Test-Driven Development Approach

### Step 1: Create Unit Tests First

[Test code example]

### Step 2: Run Tests (Should Fail)

[Command to run tests]

### Step 3: Implement

[Implementation code]

### Step 4: Run Tests Again (Should Pass)

[Command to run tests]

### Step 5: Manual Testing with Playwright

[Manual testing steps]
```

### 5. Technical Approach

```markdown
## Technical Approach

### Files to Modify

- File 1 - Description
- File 2 - Description

### Implementation Steps

1. Step 1
2. Step 2
```

### 6. Files Modified Table

```markdown
## Files Modified

| File         | Changes     |
| ------------ | ----------- |
| path/to/file | Description |
```

### 7. Definition of Done (CRITICAL - MUST INCLUDE)

```markdown
## Definition of Done

- [ ] Unit tests pass
- [ ] Implementation complete
- [ ] All existing tests pass
- [ ] Lint passes
- [ ] Manual testing complete
- [ ] Code reviewed
- [ ] All validation commands pass
  - Run `pnpm all`
  - Run `pnpm e2e:rms-material`
  - Run `pnpm dupcheck`
  - Run `pnpm format`
  - Repeat all of these if any fail until they all pass
```

### 8. Notes Section

```markdown
## Notes

- Any special considerations
- References to RMS app patterns
- Known issues or limitations
```

## Approach for Creating Stories

### Option 1: Just-in-Time Creation

Create detailed stories as each epic is started. This allows for:

- Learning from previous stories
- Adjusting based on actual implementation challenges
- Avoiding premature decisions

### Option 2: Batch Creation by Critical Path

Create all critical path stories (AG-AN) first:

- Ensures consistent approach for foundation work
- Allows DEV to see full scope of critical work
- Can adjust later epics based on lessons learned

### Option 3: Full Up-Front Creation

Create all 98 stories now:

- Complete visibility of all work
- Consistent approach across all stories
- Time-consuming and may require revisions

## Recommended Approach

**Use Option 2 (Batch Creation by Critical Path):**

1. Create all stories for Epics AG-AN first (critical path)
2. Review with team after first epic is complete
3. Adjust template/approach if needed
4. Create remaining stories (AO-AX) after critical path stories proven

## Script for Story Generation

Due to the large number of stories, consider:

- Creating a story generation script
- Using BMad PM agent's `*create-story` command repeatedly
- Or manually creating based on epic outlines + template

## Next Steps

1. Decide on approach (recommend Option 2)
2. Create AG.2, AG.3 stories (complete Epic AG)
3. Create AH.2-AH.6 stories (complete Epic AH)
4. Continue through Epic AN
5. Review and adjust
6. Create remaining epics

---

**Created**: December 25, 2025
**Status**: Stories AG.1 and AH.1 complete, ~98 stories remaining
