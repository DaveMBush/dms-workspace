<p-card header="Change Password" class="h-full">
  <form [formGroup]="passwordChangeForm" (ngSubmit)="onChangePassword()">
    <div class="field mb-3">
      <label for="currentPassword" class="block text-900 font-medium mb-2">
        Current Password <span class="text-red-500">*</span>
      </label>
      <p-password
        inputId="currentPassword"
        formControlName="currentPassword"
        [feedback]="false"
        [toggleMask]="true"
        styleClass="w-full"
        placeholder="Enter your current password"
      ></p-password>
      <small *ngIf="isCurrentPasswordInvalid$()" class="text-red-500">
        Current password is required
      </small>
    </div>

    <div class="field mb-3">
      <label for="newPassword" class="block text-900 font-medium mb-2">
        New Password <span class="text-red-500">*</span>
      </label>
      <p-password
        inputId="newPassword"
        formControlName="newPassword"
        [feedback]="true"
        [toggleMask]="true"
        styleClass="w-full"
        placeholder="Enter your new password"
        promptLabel="Choose a password"
        weakLabel="Too simple"
        mediumLabel="Average complexity"
        strongLabel="Complex password"
      ></p-password>
      <small *ngIf="isNewPasswordInvalid$()" class="text-red-500">
        Password must be at least 8 characters with uppercase, lowercase,
        number, and special character
      </small>
    </div>

    <div class="field mb-4">
      <label for="confirmPassword" class="block text-900 font-medium mb-2">
        Confirm New Password <span class="text-red-500">*</span>
      </label>
      <p-password
        inputId="confirmPassword"
        formControlName="confirmPassword"
        [feedback]="false"
        [toggleMask]="true"
        styleClass="w-full"
        placeholder="Confirm your new password"
      ></p-password>
      <small *ngIf="hasPasswordMismatch$()" class="text-red-500">
        Passwords do not match
      </small>
    </div>

    <p-button
      type="submit"
      label="Change Password"
      icon="pi pi-key"
      styleClass="w-full"
      [disabled]="isPasswordFormDisabled$()"
      [loading]="isSubmitting$()"
    ></p-button>
  </form>
</p-card>
