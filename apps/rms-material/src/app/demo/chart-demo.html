<div class="chart-demo-container">
  <h1>Chart Demo</h1>

  <div class="chart-grid">
    <!-- Pie Chart -->
    <mat-card data-testid="pie-chart-card">
      <mat-card-header>
        <mat-card-title>Pie Chart - Portfolio Allocation</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="pie-chart"
          [data$]="pieChartData$()"
          [chartType$]="'pie'"
          [title$]="'Asset Allocation'"
          [height$]="'300px'"
        />
        <button
          mat-raised-button
          color="primary"
          data-testid="update-pie-button"
          (click)="updatePieData()"
        >
          Update Data
        </button>
        @if (showUpdatedData$()) {
        <span data-testid="updated-indicator">Data Updated!</span>
        }
      </mat-card-content>
    </mat-card>

    <!-- Line Chart -->
    <mat-card data-testid="line-chart-card">
      <mat-card-header>
        <mat-card-title>Line Chart - Portfolio Performance</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="line-chart"
          [data$]="lineChartData$()"
          [chartType$]="'line'"
          [title$]="'Portfolio Value Over Time'"
          [height$]="'300px'"
        />
        <button
          mat-raised-button
          color="primary"
          data-testid="update-line-button"
          (click)="updateLineData()"
        >
          Update Data
        </button>
      </mat-card-content>
    </mat-card>

    <!-- Empty Data -->
    <mat-card data-testid="empty-chart-card">
      <mat-card-header>
        <mat-card-title>Empty Data Handling</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="empty-chart"
          [data$]="emptyChartData$()"
          [chartType$]="'pie'"
          [height$]="'200px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Single Point -->
    <mat-card data-testid="single-point-card">
      <mat-card-header>
        <mat-card-title>Single Data Point</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="single-point-chart"
          [data$]="singlePointData$()"
          [chartType$]="'line'"
          [height$]="'200px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Large Dataset -->
    <mat-card data-testid="large-dataset-card">
      <mat-card-header>
        <mat-card-title>Large Dataset (100 points)</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="large-dataset-chart"
          [data$]="largeDataset$()"
          [chartType$]="'line'"
          [height$]="'300px'"
          [showLegend$]="false"
        />
      </mat-card-content>
    </mat-card>

    <!-- Negative Values -->
    <mat-card data-testid="negative-values-card">
      <mat-card-header>
        <mat-card-title>Negative Values</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="negative-values-chart"
          [data$]="negativeValuesData$()"
          [chartType$]="'line'"
          [title$]="'Profit/Loss'"
          [height$]="'250px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Small Values -->
    <mat-card data-testid="small-values-card">
      <mat-card-header>
        <mat-card-title>Very Small Values</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="small-values-chart"
          [data$]="smallValuesData$()"
          [chartType$]="'pie'"
          [height$]="'250px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Large Values -->
    <mat-card data-testid="large-values-card">
      <mat-card-header>
        <mat-card-title>Large Values (Billions)</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="large-values-chart"
          [data$]="largeValuesData$()"
          [chartType$]="'pie'"
          [height$]="'250px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- No Legend -->
    <mat-card data-testid="no-legend-card">
      <mat-card-header>
        <mat-card-title>No Legend</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="no-legend-chart"
          [data$]="pieChartData$()"
          [chartType$]="'pie'"
          [showLegend$]="false"
          [height$]="'200px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Legend Position Top -->
    <mat-card data-testid="legend-top-card">
      <mat-card-header>
        <mat-card-title>Legend Position: Top</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="legend-top-chart"
          [data$]="pieChartData$()"
          [chartType$]="'pie'"
          [legendPosition$]="'top'"
          [height$]="'300px'"
        />
      </mat-card-content>
    </mat-card>

    <!-- Doughnut Chart -->
    <mat-card data-testid="doughnut-chart-card">
      <mat-card-header>
        <mat-card-title>Doughnut Chart</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <rms-summary-display
          data-testid="doughnut-chart"
          [data$]="pieChartData$()"
          [chartType$]="'doughnut'"
          [title$]="'Doughnut View'"
          [height$]="'300px'"
        />
      </mat-card-content>
    </mat-card>
  </div>
</div>
