<div class="flex flex-col md:flex-row items-stretch flex-1 gap-8 p-8">
  <!-- Left: Stats and pie chart -->
  <div class="flex flex-col items-start w-full md:w-1/2 max-w-md flex-shrink-0">
    <div class="mb-4">
      <mat-select
        [formControl]="selectedMonth"
        class="w-48"
        panelClass="month-select-panel"
      >
        @for (month of monthOptions; track month.value) {
        <mat-option [value]="month.value">{{ month.label }}</mat-option>
        }
      </mat-select>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-2 gap-6 w-full max-w-md mb-8">
      <div class="flex flex-col">
        <span class="text-xs text-gray-500">Total Value</span>
        <span class="text-lg font-semibold">{{ totalValue | currency }}</span>
      </div>
      <div class="flex flex-col">
        <span class="text-xs text-gray-500">Total Gain</span>
        <span
          class="text-lg font-semibold"
          [class.text-red-500]="totalGain < 0"
        >
          {{ totalGain | currency }}
        </span>
      </div>
      <div class="flex flex-col">
        <span class="text-xs text-gray-500">Capital Gain</span>
        <span class="text-lg font-semibold">{{ capitalGain | currency }}</span>
      </div>
      <div class="flex flex-col">
        <span class="text-xs text-gray-500">% Increase</span>
        <span
          class="text-lg font-semibold"
          [class.text-red-500]="gainPercent < 0"
        >
          {{ gainPercent | percent : '1.2-2' }}
        </span>
      </div>
    </div>

    <!-- Allocation Pie Chart -->
    <div class="w-full max-w-md">
      <rms-summary-display
        [chartType$]="'pie'"
        [data$]="allocationData"
        [title$]="'Account Allocation'"
        [height$]="'320px'"
      />
    </div>
  </div>

  <!-- Right: Performance Line Chart -->
  <div class="flex-1 w-full min-h-0">
    <rms-summary-display
      [chartType$]="'line'"
      [data$]="performanceData"
      [title$]="'Account Performance'"
      [height$]="'100%'"
    />
  </div>
</div>
